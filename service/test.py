import json
import re

text = '''


# 《周易运势分析 - 2018 年 3 月 9 日 12 时出生的男生》

根据您提供的出生时间，2018 年 3 月 9 日 12 时，男生，我们可以通过周易的方法来分析他的运势。

## 一、命盘分析
首先，我们需要确定命盘中的天干地支。2018 年为戊戌年，3 月为乙卯月，9 日为庚子日，12 时为午时，对应的天干地支为甲午。根据这些信息，我们可以构建出一个初步的命盘。

在这个命盘中，庚金生于卯月，木旺金囚。日主庚金偏弱，需要土金来生扶。年柱戊戌土厚，可以起到生扶日主的作用，但戊土被乙木所克，力量有所减弱。月柱乙卯木旺，对日主庚金形成一定的克制。日柱庚子，子水泄庚金之气，也对日主不利。时柱甲午，甲木生火，午火克金，对日主也有一定的压力。综合来看，日主庚金偏弱，喜土金，忌木火水。

## 二、婚姻运势
从命盘来看，这位男生的婚姻运势较为平稳。他的配偶星为乙木，乙木在月柱上透出，说明他的配偶可能会在他年轻时出现。配偶星乙木为正财，代表着他的配偶性格温和，善良，懂得持家理财。在婚姻生活中，他们会相互关心，相互支持，共同经营好家庭。

然而，由于命盘中木旺克金，可能会在婚姻中遇到一些小的摩擦和矛盾。特别是在夫妻沟通方面，需要多加注意，避免因为一些小事而产生误会和争吵。建议他在婚姻中要多一些包容和理解，尊重配偶的意见和想法，这样才能保持婚姻的幸福美满。

## 三、对方感情特点
他的配偶在感情上比较细腻，注重情感的交流和沟通。她会关心他的生活和工作，给予他支持和鼓励。同时，她也希望得到他的关注和回应，希望在感情中能够感受到彼此的爱意和温暖。

配偶的性格可能会比较柔顺，但也有自己的主见和想法。在面对问题时，她会冷静地分析和处理，不会轻易地发脾气或做出冲动的决定。她会尊重他的选择和决定，同时也会提出自己的建议和意见，帮助他更好地解决问题。

## 四、桃花运势
在桃花运势方面，这位男生的桃花运势较为一般。由于命盘中木旺克金，对他的感情运势有一定的影响。他可能不会有太多的桃花机会，但是一旦遇到合适的人，就会有比较稳定的感情发展。

在寻找另一半时，他需要注意不要过于挑剔和追求完美，要学会发现对方的优点和长处。同时，他也需要注意自己的言行举止，保持良好的形象和气质，这样才能吸引到更多的异性关注。

## 五、财运
从命盘来看，这位男生的财运还算不错。年柱戊戌土为正印，代表着长辈的帮助和支持，也代表着他有一定的福气和财运。月柱乙卯木为正财，说明他有一定的赚钱能力和理财能力，能够通过自己的努力获得一定的财富。

然而，由于命盘中木旺克金，他在财运方面也会遇到一些挑战和压力。特别是在投资和理财方面，需要谨慎对待，避免因为盲目投资而导致财产损失。建议他在理财方面要多学习一些专业知识，提高自己的理财能力和风险意识。同时，他也可以借助长辈的经验和智慧，帮助自己更好地规划财务。

## 六、综合运势
综合来看，这位男生的运势总体上还算不错。在婚姻方面，他需要多一些包容和理解，才能保持婚姻的幸福美满。在桃花运势方面，他需要注意自己的言行举止，提高自己的吸引力。在财运方面，他需要谨慎对待投资和理财，避免财产损失。

当然，周易运势分析只是一种参考，不能完全决定一个人的命运。一个人的命运是由多种因素共同决定的，包括个人的努力、环境的影响、机遇的把握等等。希望这位男生能够在未来的生活中，积极面对挑战，努力奋斗，创造出属于自己的美好未来。


'''


def extract_content_by_title(title_list, text):
    # 将文本按段落分割
    sections = re.split(r'##\s+(\S+、\S+)', text)
    result_list = []

    # 遍历分割后的内容，提取标题和内容
    for i in range(1, len(sections), 2):
        section_title = sections[i].strip()  # 提取标题
        section_content = sections[i + 1].strip() if i + 1 < len(sections) else ''  # 提取对应内容

        # 检查标题是否在目标标题列表中
        for target_title in title_list:
            if target_title in section_title:
                result_list.append({"title": target_title, "res": section_content})
                break

    return json.dumps(result_list, ensure_ascii=False, indent=2)

if __name__ == '__main__':
    print(extract_content_by_title(['命盘分析', '婚姻运势', '桃花运势', '财运', '综合运势'], text))
